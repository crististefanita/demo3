# Agentic Bridge Mapping — action + resource → Service method (v1)
# Purpose: Parameterized bridge between ScenarioDefinition and concrete API Services.
# Scope: API layer only. UI is intentionally excluded.

bridgeMappingVersion: v1

base:
  apiServicePackage: com.endava.ai.api.service
  apiModelPackage: com.endava.ai.api.model
  responseType: io.restassured.response.Response

resources:
  user:
    service: UsersService
    basePath: /public/v2/users

    actions:
      create:
        method: createUser
        params:
          - name: request
            type: UserRequest
        captures:
          - name: userId
            from: $.id
            type: integer

      get:
        method: getUser
        params:
          - name: userId
            type: int

      update_put:
        method: putUser
        params:
          - name: userId
            type: int
          - name: request
            type: UserRequest

      update_patch:
        method: patchUser
        params:
          - name: userId
            type: int
          - name: request
            type: UserRequest

      delete:
        method: deleteUser
        params:
          - name: userId
            type: int

conventions:
  - Fully qualified service class = base.apiServicePackage + "." + resources.*.service
  - Fully qualified model class   = base.apiModelPackage + "." + params[*].type
  - All actions return base.responseType
  - ID capture paths use JSONPath syntax
